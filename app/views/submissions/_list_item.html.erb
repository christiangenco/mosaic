<a href="<%= submission.url %>" class="list-group-item" target="_blank">
  <%# link_to submission.url, submission.url, target: "_blank" %>
  <p class="list-group-item-text">
    <div class="pull-right">
      <% if current_user %>
      <!-- @user.voted_up_on? @comment1 -->
        <% like_button_class = current_user.voted_up_on?(submission) ? 'btn-primary' : '' %>
        <%= html_button_to fa_icon('thumbs-up', text: 'Like'), like_challenge_submission_path(submission.challenge, submission),
          class: "btn btn-default btn-sm #{like_button_class}",
          remote: true
        %>
      <% end %>

      <% if admin? || submission.user == current_user %>
        <%= html_button_to fa_icon('trash', text: ""), "#", class: 'btn btn-danger btn-sm', remote: true %>
      <% end %>

      <% if admin? %>
        <%= html_button_to fa_icon('times'), challenge_submission_path(submission.challenge, submission),
          class: 'btn btn-default btn-sm',
          remote: true,
          method: :patch,
          params: {
            submission: {
              points: 0
            }
          }
        %>

        <%= html_button_to fa_icon('check'), challenge_submission_path(submission.challenge, submission),
          class: 'btn btn-default btn-sm',
          remote: true,
          method: :patch,
          params: {
            submission: {
              points: submission.challenge.points
            }
          }
        %>

        <%= html_button_to fa_icon('check', text: "+"), challenge_submission_path(submission.challenge, submission),
          class: 'btn btn-default btn-sm',
          remote: true,
          method: :patch,
          params: {
            submission: {
              points: (submission.challenge.points * 1.3).round
            }
          }
        %>
      <% end %>
    </div>

    <%= submission.user.display_name %>
    <small>solved <%= time_ago_in_words submission.created_at %> ago</small>
    <% if submission.points %>
      <% label_class = submission.points > 0 ? (submission.points > submission.challenge.points ? 'label-success' : 'label-info') : 'label-default'%>
      <span class="label <%= label_class %>"><%= fa_icon 'star', text: submission.points %></span>
    <% end %>
    <span class="label label-primary"><%= fa_icon 'thumbs-up', text: submission.votes_for.size %></span>

  </p>
  <!-- <h4 class="list-group-item-heading">List group item heading</h4> -->
  <!-- <p class="list-group-item-text"> -->
  <!-- </p> -->
  <div class="clearfix"></div>
</a>
